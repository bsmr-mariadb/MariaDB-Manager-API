<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Manipulate Backups via API</title>
	<link href="testresources/css/default.css" rel="stylesheet" type="text/css" />
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  </head>
  <body>
	  <div id="header">
		  <div id="logo">
			<h1><a href="#">Manager API</a></h1>
			<p><span>Read about it and try it out</span></p>
		  </div>
		  <div id="menu">
			<ul>
			  <li><a href="index.html">About</a></li>
			  <li><a href="systemform.html">System</a></li>
			  <li><a href="nodeform.html">Node</a></li>
			  <li><a href="userform.html">User</a></li>
			  <li class="active"><a href="backupform.html">Backup</a></li>
			  <li><a href="monitorform.html">Monitor</a></li>
			  <li><a href="jobform.html">Task</a></li>
			</ul>
		  </div>
	  </div>	
	<div id="page">
	<div id="content">
      <h2>Backup Management via API</h2>
	  <div class="section">
	  <h3>Get all Backup States</h3>
	  <form action="" method="post" id="getbackupstates" target="apiresults" onsubmit="return(setFields(this.id,'backupstate'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /backupstates <br />
			Parameter: 
			<a class="tooltip" href="#">fields,<span class="custom info">
			<img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>fields</strong><br />
			A comma separated list of field names to be returned, others will be omitted.
			</span></a>&nbsp;
			<br />
			Default: All fields <br />
		</p>
		<p class="formfields">
			<label for="fieldsbs">Fields to return</label>
			<input type="text" name="fields" id="fieldsbs" /><br />
			<input type="submit" class="submit" value="List States" />
			<input type="hidden" name="_accept" value="text/html" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get System Backups</h3>
	  <form action="" method="post" id="getbackups" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','backup'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /system/{systemid}/backup <br />
			Parameters:
			<a class="tooltip" href="#">from,
			<span class="custom info"><img src="testresources/images/Info.png" alt="From parameter" height="48" width="48" />
			<strong>from</strong><br />
			The start date and optionally time in any format that can be unambiguously recognised by the PHP strtotime function.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">to,
			<span class="custom info"><img src="testresources/images/Info.png" alt="To parameter" height="48" width="48" />
			<strong>to</strong><br />
			The end date and optionally time in any format that can be unambiguously recognised by the PHP strtotime function.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">fields, 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>fields</strong><br />
			Comma separated list of the field names that you would like to be returned. If not specified,
			all fields are returned.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">limit,
			<span class="custom info"><img src="testresources/images/Info.png" alt="Limit parameter" height="48" width="48" />
			<strong>limit</strong><br />
			The maximum number of items to be returned (integer, default 10).
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">offset
			<span class="custom info"><img src="testresources/images/Info.png" alt="Offset parameter" height="48" width="48" />
			<strong>offset</strong><br />
			The offset to start at within the full set of results (integer, default 0).
			</span>
			</a><br />
			Defaults are since forever, until forever, all fields, 10, 0 respectively<br />
		</p>
		<p class="formfields">
			<label for="systemidl">System ID</label>
			<input type="text" name="uri1" id="systemidl" /><br />
			<label for="qsdl">Query String</label>
			<input type="text" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'querystring');" id="qsdl"/><br />
			<label for="from">From - Date+Time</label>
			<input type="text" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'from');" id="from" /><br />
			<label for="to">To - Date+Time</label>
			<input type="text" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'to');" id="to" /><br />
			<label for="fields">Fields to return</label>
			<input type="text" name="fields" id="fields" /><br />
			<label for="limit">Max items to return</label>
			<input type="text" name="limit" id="limit" /><br />
			<label for="offset">Offset into items</label>
			<input type="text" name="offset" id="offset" /><br />
			<input type="submit" class="submit" value="List Backups" />
			<input type="hidden" name="_accept" value="text/html" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get One System Backup</h3>
	  <form action="" method="post" id="getonebackup" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','backup','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /system/{systemid}/backup/{backupid} <br />
			Parameters:
			<a class="tooltip" href="#">fields, 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Fields parameter" height="48" width="48" />
			<strong>fields</strong><br />
			Comma separated list of the field names that you would like to be returned. If not specified,
			all fields are returned.
			</span>
			</a><br />
			Default is all fields<br />
		</p>
		<p class="formfields">
			<label for="systemidb">System ID</label>
			<input type="text" name="uri1" id="systemidb" /><br />
			<label for="backupidb">Backup ID</label>
			<input type="text" name="uri2" id="backupidb" /><br />
			<label for="fieldsb">Fields to return</label>
			<input type="text" name="fields" id="fieldsb" /><br />
			<input type="submit" class="submit" value="Show Backup" />
			<input type="hidden" name="_accept" value="text/html" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Create a System Backup</h3>
	  <form action="" method="post" id="createback" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','backup'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="POST" size="6" readonly="readonly" /><br />
			URI will be /system/{systemid}/backup <br />
			Parameters:
			<a class="tooltip" href="#">nodeid,
			<span class="custom info"><img src="testresources/images/Info.png" alt="State parameter" height="48" width="48" />
			<strong>nodeid</strong><br />
			The node ID for the backup (integer, must match an existing node for the chosen system).
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">level,
			<span class="custom info"><img src="testresources/images/Info.png" alt="Size parameter" height="48" width="48" />
			<strong>level</strong><br />
			The backup level, where a level of 1 is a full backup, or a level of 2 is an incremental backup.
			</span>
			</a><br />
		</p>
		<p class="formfields">
			<label for="systemidc">System ID</label>
			<input type="text" name="uri1" id="systemidc" /><br />
			<label for="nodeid">Node ID</label>
			<input type="text" name="nodeid" id="nodeid" /><br />
			<label for="level">Level ID</label>
			<input type="text" name="level" id="level" /><br />
			<input type="submit" class="submit" value="Create Backup" />
			<input type="hidden" name="_accept" value="text/html" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Update a System Backup</h3>
	  <form action="" method="post" id="updateback" target="apiresults" onsubmit="return(setFields(this.id,'system','uri1','backup','uri2'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="PUT" size="6" readonly="readonly" /><br />
			URI will be /system/{systemid}/backup/{backupid} <br />
			Parameters:
			<a class="tooltip" href="#">state,
			<span class="custom info"><img src="testresources/images/Info.png" alt="State parameter" height="48" width="48" />
			<strong>state</strong><br />
			The state code for the backup (string, must match a possible state).
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">updated,
			<span class="custom info"><img src="testresources/images/Info.png" alt="State parameter" height="48" width="48" />
			<strong>updated</strong><br />
			The date when the backup was updated, must be a valid date according to PHP strtotime.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">restored,
			<span class="custom info"><img src="testresources/images/Info.png" alt="State parameter" height="48" width="48" />
			<strong>restored</strong><br />
			The date when the backup was restored, must be a valid date according to PHP strtotime.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">size,
			<span class="custom info"><img src="testresources/images/Info.png" alt="Size parameter" height="48" width="48" />
			<strong>size</strong><br />
			The size of the backup (integer).
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">storage, 
			<span class="custom info"><img src="testresources/images/Info.png" alt="Storage parameter" height="48" width="48" />
			<strong>storage</strong><br />
			The backup storage.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">binlog,
			<span class="custom info"><img src="testresources/images/Info.png" alt="Binlog parameter" height="48" width="48" />
			<strong>binlog</strong><br />
			The backup binlog.
			</span>
			</a>
			&nbsp;
			<a class="tooltip" href="#">log
			<span class="custom info"><img src="testresources/images/Info.png" alt="Log parameter" height="48" width="48" />
			<strong>log</strong><br />
			The backup log.
			</span>
			</a><br />
		</p>
		<p class="formfields">
			<label for="systemidu">System ID</label>
			<input type="text" name="uri1" id="systemidu" /><br />
			<label for="backupid">Backup ID</label>
			<input type="text" name="uri2" id="backupid" /><br />
			<label for="state">State</label>
			<input type="text" id="state" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'state');" /><br />
			<label for="updated">Updated</label>
			<input type="text" id="updated" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'updated');" /><br />
			<label for="restored">Restored</label>
			<input type="text" id="restored" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'restored');" /><br />
			<label for="size">Size</label>
			<input type="text" id="size" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'size');" /><br />
			<label for="storage">Storage</label>
			<input type="text" id="storage" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'storage');" /><br />
			<label for="binlog">BinLog</label>
			<input type="text" id="binlog" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'binlog');" /><br />
			<label for="log">Log</label>
			<input type="text" id="log" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'log');" /><br />
			<input type="submit" class="submit" value="Update Backup" />
			<input type="hidden" name="_accept" value="text/html" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="HTTP_DATE" /><br />
			<input type="hidden" name="HTTP_AUTHORIZATION" />
		</p>
	  </form>
	  </div>
	  </div>
	  </div>
		<script type="text/javascript" src="testresources/js/md5.js"></script>
		<script type="text/javascript" src="testresources/js/testapi.js"></script>
    </body>
</html>
