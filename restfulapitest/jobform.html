<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Manipulate Users via SkySQL Manager API</title>
	<link href="testresources/css/default.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
	  <div id="header">
		  <div id="logo">
			<h1><a href="#">Manager API</a></h1>
			<p><span>Read about it and try it out</span></p>
		  </div>
		  <div id="menu">
			<ul>
			  <li><a href="index.html">About</a></li>
			  <li><a href="systemform.html">System</a></li>
			  <li><a href="nodeform.html">Node</a></li>
			  <li><a href="userform.html">User</a></li>
			  <li><a href="backupform.html">Backup</a></li>
			  <li><a href="monitorform.html">Monitor</a></li>
			  <li class="active"><a href="jobform.html">Task</a></li>
			</ul>
		  </div>
	  </div>	
	<div id="page">
	<div id="content">
      <h2>Task Management via SkySQL Manager API</h2>
	  <div class="section">
	  <h3>Get all Node Commands</h3>
	  <form action="" method="post" id="getcommands" target="apiresults" onsubmit="return(setFields(this.id,'command'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /command <br />
			Parameter: fields <br />
			Default: All fields <br />
		</p>
		<p class="formfields">
			<label for="fields">Fields to return</label>
			<input type="text" name="fields" id="fields" /><br />
			<input type="submit" class="submit" value="List" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get all Command States</h3>
	  <form action="" method="post" id="getcommandstates" target="apiresults" onsubmit="return(setFields(this.id,'command','state'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /command/state <br />
			Parameters: none <br />
		</p>
		<p class="formfields">
			<input type="hidden" name="state" value="state" /><br />
			<input type="submit" class="submit" value="List" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get all Command Steps</h3>
	  <form action="" method="post" id="getcommandsteps" target="apiresults" onsubmit="return(setFields(this.id,'command','step'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /command/step <br />
			Parameters: none <br />
		</p>
		<p class="formfields">
			<input type="hidden" name="step" value="step" /><br />
			<input type="submit" class="submit" value="List" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Run a Command</h3>
	  <form action="" method="post" id="runcommand" target="apiresults" onsubmit="return(setFields(this.id,'command','command'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="POST" size="6" readonly="readonly" /><br />
			URI will be /command/{commandname} <br />
			Parameters: system, node, username, level, parentid, parameters (command dependent), icalentry <br />
		</p>
		<p class="formfields">
			<label for="commandname">Command Name</label>
			<select name="command" id="commandname">
				<option value="backup">Backup</option>
				<option value="restore">Restore</option>
				<option value="start">Start</option>
				<option value="stop">Stop</option>
				<option value="restart">Restart</option>
				<option value="isolate">Isolate</option>
				<option value="recover">Recover</option>
				<option value="promote">Promote</option>
			</select><br />
			<label for="systemc">System ID</label>
			<input type="text" name="systemid" id="systemc" /><br />
			<label for="nodec">Node ID</label>
			<input type="text" name="nodeid" id="nodec" /><br />
			<label for="username">Username</label>
			<input type="text" name="username" id="username" /><br />
			<label for="level">Level (backup)</label>
			<input type="text" id="level" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'level');" /><br />
			<label for="parentid">Parent ID (backup)</label>
			<input type="text"  id="parentid" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'parentid');" /><br />
			<label for="params">Parameters</label>
			<input type="text" id="params" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'parameters');" /><br />
			<label for="ical">iCalEntry</label>
			<input type="text" id="ical" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'icalentry');" /><br />
			<input type="submit" class="submit" value="Run Command" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get One Task</h3>
	  <form action="" method="post" id="getjob" target="apiresults" onsubmit="return(setFields(this.id,'task','taskid'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /task/{taskid} <br />
			Parameters: state, nodeid, fields <br />
		</p>
		<p class="formfields">
			<label for="task">Task ID</label>
			<input type="text" name="taskid" id="taskid" /><br />
			<label for="fields1">Fields to return</label>
			<input type="text" name="fields" id="fields1" /><br />
			<input type="submit" class="submit" value="Get Task" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get Multiple Tasks</h3>
	  <form action="" method="post" id="getjobs" target="apiresults" onsubmit="return(setFields(this.id,'task'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /task <br />
			Parameters: state, nodeid, fields <br />
		</p>
		<p class="formfields">
			<label for="statejm">State</label>
			<input type="text" id="statejm" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'state');" /><br />
			<label for="nodejs">Node ID</label>
			<input type="text" id="nodejs" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'nodeid');" /><br />
			<label for="fieldsm">Fields to return</label>
			<input type="text" name="fields" id="fieldsm" /><br />
			<input type="submit" class="submit" value="Get Tasks" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Update a Task</h3>
	  <form action="" method="post" id="putjob" target="apiresults" onsubmit="return(setFields(this.id,'task','taskid'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="PUT" size="6" readonly="readonly" /><br />
			URI will be /task/{taskid} <br />
			Parameters: state, pid, stepindex, completed<br />
		</p>
		<p class="formfields">
			<label for="tasku">Task ID</label>
			<input type="text" name="taskid" id="taskidu" /><br />
			<label for="stateju">State</label>
			<input type="text" id="stateju" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'state');" /><br />
			<label for="pidju">Process ID (PID)</label>
			<input type="text" id="pidju" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'pid');" /><br />
			<label for="stepju">Step index</label>
			<input type="text" id="stepju" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'stepindex');" /><br />
			<label for="completedju">Completed</label>
			<input type="text" id="completedju" ondblclick="unsetName(this.id);" onfocus="setName(this.id,'completed');" /><br />
			<input type="submit" class="submit" value="Update Task" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Get Bucket Data</h3>
	  <form action="" method="post" id="getbucket" target="apiresults" onsubmit="return(setFields(this.id,'bucket'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /bucket <br />
			Parameters: bucket, object <br />
		</p>
		<p class="formfields">
			<label for="bucket">Bucket</label>
			<input type="text" name="bucket" id="bucket" /><br />
			<label for="object">Object</label>
			<input type="text" name="object" id="object" /><br />
			<input type="submit" class="submit" value="Get Data" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  <div class="section">
	  <h3>Run SQL to get information</h3>
	  <form action="" method="post" id="runsql" target="apiresults" onsubmit="return(setFields(this.id,'runsql'));window.open('', 'apiresults', 'width=450,height=300,status=yes,resizable=yes,scrollbars=yes');">
		<p class="explain">
			The HTTP method to be used is: 
			<input type="text" name="_method" value="GET" size="6" readonly="readonly" /><br />
			URI will be /runsql <br />
			Parameters: SQL request (SELECT or SHOW), systemid, nodeid, aspairs, fields <br />
		</p>
		<p class="formfields">
			<label for="sql">SQL</label>
			<input type="text" name="sql" id="sql" /><br />
			<label for="systemq">System ID</label>
			<input type="text" name="systemid" id="systemq" /><br />
			<label for="nodeq">Node ID</label>
			<input type="text" name="nodeid" id="nodeq" /><br />
			<label for="aspairs">Results paired</label>
			<input type="text" name="aspairs" id="aspairs" /><br />
			<label for="fieldsq">Fields to return</label>
			<input type="text" name="fields" id="fieldsq" /><br />
			<input type="submit" class="submit" value="Run SQL" />
			<input type="hidden" name="_accept" value="application/json" />
			<!-- The following two inputs will be set automatically -->
			<input type="hidden" name="_rfcdate" /><br />
			<input type="hidden" name="_authorization" />
		</p>
	  </form>
	  </div>
	  </div>
	  </div>
		<script type="text/javascript" src="testresources/js/md5.js"></script>
		<script type="text/javascript" src="testresources/js/testapi.js"></script>
    </body>
</html>
